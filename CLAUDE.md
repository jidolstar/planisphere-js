# Planisphere-JS ê°œë°œ ê°€ì´ë“œ

## í”„ë¡œì íŠ¸ ê°œìš”

**ëª©ì **: ê³¼í•™ êµìœ¡ì„ ìœ„í•œ ì¸í„°ë™í‹°ë¸Œ ë³„ìë¦¬íŒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
**ëŒ€ìƒ**: ê³¼í•™ ì„ ìƒë‹˜, í•™ìƒë“¤
**í•µì‹¬ ê°€ì¹˜**: ì •í™•í•œ ì²œë¬¸í•™ ê³„ì‚° + ì§ê´€ì ì¸ ì‚¬ìš©ì„±

## í”„ë¡œì íŠ¸ ì² í•™

### 1. Vanilla JavaScript ì›ì¹™
- âœ… í”„ë ˆì„ì›Œí¬ ì—†ìŒ (React, Vue ë“± ì‚¬ìš© ì•ˆ í•¨)
- âœ… ë¹Œë“œ ë„êµ¬ ìµœì†Œí™” (Babel, Webpack ì—†ì´ ë¸Œë¼ìš°ì € ì§ì ‘ ì‹¤í–‰)
- âœ… ì´ìœ : êµìœ¡ìš© ì½”ë“œ, ì¥ê¸° ìœ ì§€ë³´ìˆ˜, ê°€ë²¼ìš´ ë°°í¬

### 2. êµìœ¡ ìš°ì„ 
- ì½”ë“œ ê°€ë…ì„± > ìµœì í™”
- ëª…í™•í•œ ë„¤ì´ë°ê³¼ ì£¼ì„
- ê²€ì¦ ê°€ëŠ¥í•œ ì²œë¬¸í•™ ê³„ì‚°

### 3. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œì„œì˜ ë…ë¦½ì„± â­ï¸
**`js/` í´ë”ëŠ” ì™„ì „íˆ ë…ë¦½ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤:**

```
ì˜ì¡´ì„± ë°©í–¥:
index.html  â”€â”€â†’  js/ (planisphere.js ë“±)
            â”€â”€â†’  css/
            â”€â”€â†’  images/

js/ â”€â”€Xâ”€â”€â†’ index.html, css/, images/ (ì˜ì¡´ ì—†ìŒ!)
```

- `js/` í´ë”ëŠ” HTML/CSS/ì´ë¯¸ì§€ì™€ ë¬´ê´€í•˜ê²Œ ë™ì‘
- ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ë³µì‚¬í•´ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
- ìˆœìˆ˜í•œ JavaScript ë¡œì§ë§Œ í¬í•¨
- SVG.js ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ í•„ìš”

## íŒŒì¼ êµ¬ì¡°

```
planisphere-js/
â”œâ”€â”€ index.html                   # ì•± ì§„ì…ì 
â”œâ”€â”€ js/                          # ë…ë¦½ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì¬ì‚¬ìš© ê°€ëŠ¥) â­ï¸
â”‚   â”œâ”€â”€ planisphere.js           # ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ + InputHandler
â”‚   â”œâ”€â”€ astronomy.js             # ì²œë¬¸í•™ ê³„ì‚° (ìˆœìˆ˜ ë¡œì§)
â”‚   â”œâ”€â”€ models.js                # ë³„/ë³„ìë¦¬ ë°ì´í„°
â”‚   â”œâ”€â”€ renderers.js             # SVG ë Œë”ë§ ë¡œì§
â”‚   â””â”€â”€ constants.js             # ì„¤ì • ìƒìˆ˜
â”œâ”€â”€ css/                         # ìŠ¤íƒ€ì¼ë§
â”‚   â”œâ”€â”€ common.css
â”‚   â”œâ”€â”€ control-panel.css
â”‚   â””â”€â”€ modal.css
â”œâ”€â”€ images/                      # ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ README.md
â”œâ”€â”€ CLAUDE.md                    # ì´ ë¬¸ì„œ
â””â”€â”€ LICENSE.md
```

**íŒŒì¼ ê°œìˆ˜**: 5ê°œ (GitHub Pages ìµœì í™”)
**ì´ í¬ê¸°**: ~250KB (gzip ì „), HTTP/2ë¡œ ë¹ ë¥¸ ë¡œë”©

## ëª¨ë“ˆ êµ¬ì¡° (js/)

### 1. astronomy.js (~15KB)
**ìˆœìˆ˜ ì²œë¬¸í•™ ê³„ì‚° - ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì¬ì‚¬ìš© ê°€ëŠ¥**
- `AstroMath`: ìƒìˆ˜ ë° ìœ í‹¸ë¦¬í‹°
- `AstroTime`: LCT/UT/GST/LST ì‹œê°„ ë³€í™˜
- `AstroVector`: 3D ë²¡í„°, ì¢Œí‘œê³„ ë³€í™˜ (ì ë„â†”ì§€í‰â†”í™©ë„)
- `AstroMatrix`: 3Ã—3 í–‰ë ¬ ì—°ì‚°
- `EquiDistanceProjection`: ë“±ê±°ë¦¬ íˆ¬ì˜ (3D â†’ 2D)

### 2. models.js (~80KB, ëŒ€ë¶€ë¶„ ë°ì´í„°)
**ë„ë©”ì¸ ë°ì´í„°**
- `STARS_DATA`: 5000+ ë³„ ë°ì´í„° (CSV í¬ë§·)
- `CONSTELLATION_LINES`: ë³„ìë¦¬ì„  ì¢Œí‘œ
- `CONSTELLATION_NAMES`: ë³„ìë¦¬ëª… ë° ìœ„ì¹˜

### 3. renderers.js (~30KB)
**SVG ë Œë”ë§**
- `THEMES`: default, dark, light í…Œë§ˆ
- `SkyPanelRenderer`: ë‚ ì§œí™˜, ë³„, ë³„ìë¦¬ì„ , ì¢Œí‘œì„ 
- `TimeRingRenderer`: íšŒì „í•˜ëŠ” ì‹œê°„í™˜, ì§€í‰ì„ 
- `InfoPanelRenderer`: ë²”ë¡€ ë° ì •ë³´

### 4. constants.js (~2KB)
**ì„¤ì • ìƒìˆ˜**
- ê¸°ë³¸ ìœ„ì¹˜(ì„œìš¸), ì‹œê°„ëŒ€(KST)
- ë¶„ê´‘í˜• ìƒ‰ìƒ, ë“±ê¸‰ ì œí•œ
- í™•ëŒ€/ì¶•ì†Œ ë²”ìœ„

### 5. planisphere.js (~40KB)
**ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬**
- `InputHandler`: ì…ë ¥ ì²˜ë¦¬ í†µí•© (Pointer/Touch/Mouse/Wheel/Gesture)
- `Planisphere`: ì „ì²´ ì¡°ìœ¨ ë° ìƒíƒœ ê´€ë¦¬

**Public API:**
```javascript
const planisphere = new Planisphere({
    wrapperDomId: '#planisphere',
    currentDate: new Date(),
    lon: 126.98,  // ê²½ë„
    lat: 37.57,   // ìœ„ë„
    dgmt: 9,      // UTC+9
    styles: {},   // ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
    version: '1.0.3'
});

// API ë©”ì„œë“œ
planisphere.setDateTime(new Date());           // ë‚ ì§œ/ì‹œê°„ ë³€ê²½
planisphere.setLocation(lon, lat);             // ìœ„ì¹˜ ë³€ê²½
planisphere.setTheme('default');               // 'default', 'dark', 'light'
planisphere.render();                          // ëª…ì‹œì  ë Œë”ë§
```

## ë¦¬íŒ©í† ë§ í˜„í™©

### âœ… Phase 1: ê¸°ë°˜ ë§ˆë ¨
- ES6 ëª¨ë“ˆ ì‹œìŠ¤í…œ ë„ì…
- `astronomy.js` ìƒì„± (ì²œë¬¸í•™ ê³„ì‚° ë¶„ë¦¬)
- `constants.js` ìƒì„± (ë§¤ì§ ë„˜ë²„ ì œê±°)

### âœ… Phase 2: ë°ì´í„° í†µí•©
- `models.js` ìƒì„± (stars.js + conline.js + conname.js í†µí•©)
- ë°ì´í„° íŒŒì¼ 3ê°œ â†’ 1ê°œë¡œ í†µí•©

### âœ… Phase 3: ë Œë”ë§ ë¶„ë¦¬
- `renderers.js` ìƒì„± (THEMES + 3ê°œ Renderer)
- planisphere.jsì—ì„œ ë Œë”ë§ ë¡œì§ 800ì¤„ ë¶„ë¦¬

### âœ… Phase 4: ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ ì •ë¦¬
- `InputHandler` í´ë˜ìŠ¤ ìƒì„± (ì…ë ¥ ì²˜ë¦¬ 230ì¤„ ë¶„ë¦¬)
- Public API ëª…í™•í™” (setDateTime, setLocation, setTheme, render)
- planisphere.js 800ì¤„ â†’ 400ì¤„

### ğŸ”„ Phase 5: ë¬¸ì„œí™” (ì„ íƒ)
- JSDoc ì£¼ì„ ì¶”ê°€
- ì‚¬ìš© ì˜ˆì œ ì‘ì„±
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (astronomy.js ì¤‘ì‹¬)

## ì½”ë”© ì»¨ë²¤ì…˜

```javascript
// í´ë˜ìŠ¤: PascalCase
class StarRenderer { }

// ìƒìˆ˜: UPPER_SNAKE_CASE
const DEFAULT_LATITUDE = 37.57;

// í•¨ìˆ˜/ë©”ì„œë“œ: camelCase (ë™ì‚¬ë¡œ ì‹œì‘)
function calculatePosition() { }

// Private: # ì ‘ë‘ì‚¬ (ES2022)
class Star {
    #magnitude;
}

// Boolean: is/has/can
const isVisible = true;
```

## ì„±ëŠ¥ ìµœì í™”

### GitHub Pages í™˜ê²½
- âœ… HTTP/2 ì§€ì›
- âœ… 5ê°œ íŒŒì¼ = ìµœì†Œ ìš”ì²­ ìˆ˜
- âœ… ê° íŒŒì¼ < 50KB (gzip ì „)
- âœ… ë²ˆë“¤ë§ ë¶ˆí•„ìš”

### ì¸¡ì • ëª©í‘œ
- ì´ˆê¸° ë¡œë”©: < 500ms (3G)
- First Contentful Paint: < 1s
- Time to Interactive: < 2s

## ê°œë°œ í™˜ê²½

### Dockerë¡œ ì‹¤í–‰ (ê¶Œì¥)
```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
docker-compose up -d

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:8080

# ì„œë²„ ì¤‘ì§€
docker-compose down
```

ìì„¸í•œ ë‚´ìš©ì€ [DEV.md](DEV.md) ì°¸ì¡°

### ì „í†µì ì¸ ë°©ë²•
```bash
# Node.js
npx http-server . -p 8080

# Python
python -m http.server 8080
```

**ì£¼ì˜**: `file://` í”„ë¡œí† ì½œì€ ES6 ëª¨ë“ˆ ë¯¸ì§€ì› (CORS)

## ë°°í¬ (GitHub Pages)

```bash
# 1. master ë¸Œëœì¹˜ì— í‘¸ì‹œ
git add .
git commit -m "Update planisphere"
git push origin master

# 2. Settings â†’ Pages â†’ Source: master branch
```

**URL**: https://jidolstar.github.io/planisphere-js/

## ì•„í‚¤í…ì²˜ ì›ì¹™

### ì‹¤ìš©ì  ê´€ì‹¬ì‚¬ ë¶„ë¦¬
```
ì²œë¬¸í•™ ê³„ì‚° (astronomy.js)
    â†“
ë°ì´í„° (models.js)
    â†“
ë Œë”ë§ (renderers.js)
    â†“
ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ (planisphere.js)
```

### ì„¤ê³„ ì›ì¹™
1. **ë‹¨ì¼ ì±…ì„**: ê° íŒŒì¼ì€ í•˜ë‚˜ì˜ ëª…í™•í•œ ì—­í• 
2. **ì¶”ì  ê°€ëŠ¥ì„±**: êµìœ¡ìš©ìœ¼ë¡œ ì½”ë“œ íë¦„ ëª…í™•íˆ
3. **ìµœì†Œ ì˜ì¡´ì„±**: js/ í´ë”ëŠ” SVG.jsë§Œ í•„ìš”
4. **ì¬ì‚¬ìš©ì„±**: astronomy.jsëŠ” ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì‚¬ìš© ê°€ëŠ¥

## ê°œì„  íš¨ê³¼ ìš”ì•½

### Before (ê¸°ì¡´)
- âŒ ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜¤ì—¼
- âŒ planisphere.js 800+ ì¤„
- âŒ ì—­í•  í˜¼ì¬
- âŒ ì¬ì‚¬ìš© ë¶ˆê°€ëŠ¥
- âŒ í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥

### After (ë¦¬íŒ©í† ë§ ì™„ë£Œ)
- âœ… ES6 ëª¨ë“ˆë¡œ ê¹”ë”í•œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤
- âœ… ê° íŒŒì¼ 200-400ì¤„ (ì½ê¸° ì‰¬ì›€)
- âœ… ëª…í™•í•œ ì—­í•  ë¶„ë¦¬
- âœ… astronomy.js ì¬ì‚¬ìš© ê°€ëŠ¥
- âœ… ì²œë¬¸í•™ ë¡œì§ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- âœ… js/ í´ë” ë…ë¦½ì  ë¼ì´ë¸ŒëŸ¬ë¦¬

## í•µì‹¬ ê°€ì¹˜

```
ì—”í„°í”„ë¼ì´ì¦ˆ ì•„í‚¤í…ì²˜ < êµìœ¡ìš© + ì‹¤ìš©ì„±
```

- ê³¼ë„í•œ ì¶”ìƒí™” ì§€ì–‘
- í•™ìŠµí•˜ê¸° ì‰½ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ êµ¬ì¡°
- ì¥ê¸°ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ì½”ë“œë² ì´ìŠ¤

---

**ìµœì¢… ìˆ˜ì •**: 2026-01-27
**ì‘ì„±ì**: Claude & ì§€ìš©í˜¸
**ë²„ì „**: 3.0.0 (Phase 4 ì™„ë£Œ, ì»´íŒ©íŠ¸ ì¬ì‘ì„±)
