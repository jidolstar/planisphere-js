<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planisphere JS - ê¸°ë³¸ ì‚¬ìš© ê°€ì´ë“œ</title>

    <style>
        :root {
            --accent: #38bdf8;
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .header h1 {
            color: var(--accent);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        /* [ì¤‘ìš”] ë³„ìë¦¬íŒ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        #planisphere-wrapper {
            width: 100%;
            height: 600px;
            /* ë†’ì´ë¥¼ ê¼­ ì§€ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤ */
            background: #000;
            border-radius: 20px;
            border: 1px solid #334155;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            margin: 30px 0;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 40px;
        }

        button {
            padding: 10px 18px;
            border-radius: 8px;
            border: none;
            background: #334155;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            background: var(--accent);
            color: #000;
            transform: translateY(-2px);
        }

        .code-section {
            background: var(--card);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #334155;
            margin-top: 40px;
        }

        code {
            color: var(--accent);
            font-family: monospace;
            font-size: 0.95rem;
        }

        pre {
            overflow-x: auto;
            margin: 0;
        }

        .info-panel {
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid var(--accent);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>Planisphere JS</h1>
        <p>ì»¤ìŠ¤í…€ ê°€ëŠ¥í•œ ì›¹ìš© ë³„ìë¦¬íŒ ë¼ì´ë¸ŒëŸ¬ë¦¬</p>
    </div>

    <!-- 1. ë³„ìë¦¬íŒì´ ê·¸ë ¤ì§ˆ ì˜ì—­ (ë†’ì´ë¥¼ ì§€ì •í•´ì•¼ í•¨) -->
    <div id="planisphere-wrapper"></div>

    <!-- 2. ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ì˜ì—­ -->
    <div class="controls">
        <button onclick="changeTime('now')">í˜„ì¬ ì‹œê°</button>
        <button onclick="changeTime('midnight')">ì˜¤ëŠ˜ ìì •</button>
        <button onclick="changeLocation('seoul')">ì„œìš¸ (ë¶ë°˜êµ¬)</button>
        <button onclick="changeLocation('sydney')">ì‹œë“œë‹ˆ (ë‚¨ë°˜êµ¬)</button>
        <button onclick="nextTheme()">í…Œë§ˆ ë³€ê²½</button>
    </div>

    <div id="status-info" class="info-panel">
        ì„¤ì • ì •ë³´ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
    </div>

    <!-- 3. ì„¤ì • ì½”ë“œ ì•ˆë‚´ (ì‚¬ìš©ìê°€ ë³µì‚¬í•´ì„œ ì“¸ ë¶€ë¶„) -->
    <div class="code-section">
        <h3>ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</h3>
        <p>ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ ë³¸ì¸ì˜ HTMLì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”. (ìµœì‹  ë²„ì „ì€ NPM ë˜ëŠ” CDNì„ í†µí•´ ê°„í¸í•˜ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)</p>
        <pre><code>&lt;!-- 1. ì»¨í…Œì´ë„ˆ ìƒì„± --&gt;
&lt;div id="planisphere" style="width:100%; height:600px;"&gt;&lt;/div&gt;

&lt;!-- 2. ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ --&gt;
&lt;script type="module"&gt;
    // CDNì—ì„œ ì§ì ‘ ë¶ˆëŸ¬ì˜¤ê¸° (ê¶Œì¥)
    import Planisphere from 'https://cdn.jsdelivr.net/npm/planisphere-js@1.3.0/index.js';

    (async () => {
        const ps = new Planisphere({
            wrapperDomId: '#planisphere',
            lon: 126.98, // ê²½ë„
            lat: 37.57,  // ìœ„ë„
        });
        await ps.initialize();
    })();
&lt;/script&gt;</code></pre>
    </div>

    <script type="module">
        import Planisphere from '../index.js';

        (async () => {
            // --- ì´ˆê¸°í™” ì„¤ì • ---
            const config = {
                wrapperDomId: '#planisphere-wrapper',
                currentDate: new Date(),
                lon: 126.98,
                lat: 37.57
            };

            // ë³„ìë¦¬íŒ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
            const ps = new Planisphere(config);

            // ë¹„ë™ê¸° ì´ˆê¸°í™” (í•„ìˆ˜)
            await ps.initialize();

            // UI ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ìƒíƒœ ê´€ë¦¬
            let currentThemeIndex = 0;
            const themes = ['default', 'dark', 'light'];

            function updateUI() {
                // ë” ì•ˆì „í•˜ê²Œ ëª¨ë“  ì†ì„±ì„ ì²´í¬í•©ë‹ˆë‹¤.
                if (!ps) return;

                const lon = ps.lon;
                const lat = ps.lat;
                const date = ps.currentDate;

                // ì†ì„±ì´ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ë¬´ì‹œí•©ë‹ˆë‹¤.
                if (lon === undefined || lat === undefined) {
                    console.warn('Planisphere location data not yet initialized.');
                    return;
                }

                const info = `
                    <b>ğŸ“ ìœ„ì¹˜:</b> ${(lon || 0).toFixed(2)}Â°E, ${(lat || 0).toFixed(2)}Â°N (${lat >= 0 ? 'ë¶ë°˜êµ¬' : 'ë‚¨ë°˜êµ¬'}) | 
                    <b>ğŸ•’ ì‹œê°„:</b> ${date ? date.toLocaleString('ko-KR') : '-'} |
                    <b>ğŸ¨ í…Œë§ˆ:</b> ${themes[currentThemeIndex].toUpperCase()}
                `;
                document.getElementById('status-info').innerHTML = info;
            }

            // ì´ˆê¸° UI í˜¸ì¶œ
            updateUI();

            // --- ì‚¬ìš©ì ì¸í„°ë™ì…˜ í•¨ìˆ˜ ë“±ë¡ (window ê°ì²´ì— í• ë‹¹í•˜ì—¬ HTML inlineì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•¨) ---

            window.changeTime = (type) => {
                const date = new Date();
                if (type === 'midnight') date.setHours(0, 0, 0, 0);
                ps.setDateTime(date);
                updateUI();
            };

            window.changeLocation = async (city) => {
                if (city === 'seoul') {
                    await ps.setLocation(126.98, 37.57, 9);
                } else if (city === 'sydney') {
                    await ps.setLocation(151.21, -33.87, 10, 'Australia/Sydney');
                }
                updateUI();
            };

            window.nextTheme = () => {
                currentThemeIndex = (currentThemeIndex + 1) % themes.length;
                const newTheme = themes[currentThemeIndex];
                ps.setTheme(newTheme);
                updateUI();
            };
        })();

    </script>
</body>

</html>