<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>astronomy.js - ë…ë¦½ ì‚¬ìš© ê°€ì´ë“œ</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: #0f172a;
            color: #f1f5f9;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
        }

        h1,
        h2 {
            color: #38bdf8;
            border-bottom: 2px solid #1e293b;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        .card {
            background: #1e293b;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 1px solid #334155;
        }

        pre {
            background: #000;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid #334155;
        }

        code {
            color: #38bdf8;
            font-family: 'Fira Code', monospace;
        }

        .output {
            color: #10b981;
            font-weight: bold;
            background: #064e3b33;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .desc {
            color: #94a3b8;
            font-size: 0.95rem;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

    <h1>âœ¨ astronomy.js ë…ë¦½ ì‚¬ìš© ê°€ì´ë“œ</h1>
    <p>ë³„ìë¦¬íŒ UI ì—†ì´ <b>ì²œë¬¸í•™ ê³„ì‚° ë¡œì§</b>ë§Œ í•„ìš”í•˜ì‹ ê°€ìš”? `astronomy.js`ëŠ” ìˆœìˆ˜ ìë°”ìŠ¤í¬ë¦½íŠ¸(ESM)ë¡œ ì‘ì„±ë˜ì–´ ì–´ë–¤ í”„ë¡œì íŠ¸ì—ì„œë„ ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <div class="card">
        <h3>ğŸ“¦ ì„¤ì¹˜ ë° ë¶ˆëŸ¬ì˜¤ê¸°</h3>
        <p class="desc">NPM ë˜ëŠ” CDNì„ í†µí•´ ê°„í¸í•˜ê²Œ ì‹œì‘í•˜ì„¸ìš”.</p>
        <pre><code>// NPM ì‚¬ìš© ì‹œ
import { AstroTime, AstroMath, AstroVector } from 'planisphere-js/astronomy';

// CDN ì‚¬ìš© ì‹œ
import { AstroTime, AstroMath, AstroVector } from 'https://cdn.jsdelivr.net/npm/planisphere-js/js/core/astronomy.js';</code></pre>
    </div>

    <h2>1. ì‹œê°„ ë° ë‚ ì§œ ê³„ì‚° (AstroTime)</h2>
    <div class="card">
        <div class="desc">ìœ¨ë¦¬ìš°ìŠ¤ì¼(JD) ë° í•­ì„±ì‹œ(LST)ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</div>
        <pre><code>const year = 2024, month = 6, day = 21, h = 12, m = 0, s = 0;

// 1. ìœ¨ë¦¬ìš°ìŠ¤ì¼(JD) ê³„ì‚°
const jd = AstroTime.jd(year, month, day, h, m, s);
console.log('JD:', jd); // <span id="jd-out" class="output"></span>

// 2. ì§€ë°©ì‹œ(LCT) â†’ í•­ì„±ì‹œ(LST) ë³€í™˜ (ì„œìš¸ ê¸°ì¤€)
const astroTime = new AstroTime(9, 126.98, 37.57); // GMT+9, ê²½ë„, ìœ„ë„
const lst = astroTime.LCT2LST(jd);
console.log('LST (Deg):', lst); // <span id="lst-out" class="output"></span></code></pre>
    </div>

    <h2>2. íƒœì–‘ ê³ ë„ ë° ë‚¨ì¤‘ ì‹œê°</h2>
    <div class="card">
        <div class="desc">íŠ¹ì • ë‚ ì§œì˜ íƒœì–‘ ë‚¨ì¤‘ ì‹œê°(ì§„ì •ì˜¤)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.</div>
        <pre><code>const solarNoon = astroTime.lasn(2024, 6, 21);
console.log('ì„œìš¸ ë‚¨ì¤‘ ì‹œê°:', solarNoon.toFixed(2) + 'ì‹œ'); // <span id="noon-out" class="output"></span></code></pre>
    </div>

    <h2>3. ì¢Œí‘œê³„ ë³€í™˜ (AstroVector)</h2>
    <div class="card">
        <div class="desc">ì ë„ ì¢Œí‘œ(RA/Dec)ë¥¼ ì§€í‰ ì¢Œí‘œ(Alt/Az)ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ê·¸ ë°˜ëŒ€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.</div>
        <pre><code>import { AstroVector, AstroMatrix } from '...';

const star = new AstroVector();
// ì ê²½ 2.5h, ì ìœ„ 89.26ë„ (ë¶ê·¹ì„± ê·¼ì²˜) ì„¤ì •
star.setSphe(2.5 * AstroMath.H2R, 89.26 * AstroMath.D2R);

// ë³€í™˜ í–‰ë ¬ ìƒì„± (LSTì™€ ìœ„ë„ í•„ìš”)
const matrix = new AstroMatrix();
matrix.equ2hor(lst * AstroMath.D2R, 37.57 * AstroMath.D2R);

const horVector = new AstroVector();
horVector.multiply(matrix, star);

console.log('ë°©ìœ„ê°:', (horVector.lon() * AstroMath.R2D).toFixed(2)); // <span id="az-out" class="output"></span>
console.log('ê³ ë„:', (horVector.lat() * AstroMath.R2D).toFixed(2));   // <span id="alt-out" class="output"></span></code></pre>
    </div>

    <h2>4. 2D íˆ¬ì˜ (EquiDistanceProjection)</h2>
    <div class="card">
        <div class="desc">ì²œêµ¬ì˜ 3D ì¢Œí‘œë¥¼ ë³„ìë¦¬íŒê³¼ ê°™ì€ 2D í‰ë©´ì— íˆ¬ì˜í•©ë‹ˆë‹¤.</div>
        <pre><code>import { EquiDistanceProjection } from '...';

const radius = 300; // ë³„ìë¦¬íŒ ë°˜ê²½
const proj = new EquiDistanceProjection(radius, 37.57 * AstroMath.D2R);

const { x, y } = proj.project(2.5 * AstroMath.H2R, 89.26 * AstroMath.D2R);
console.log('SVG ì¢Œí‘œ:', x.toFixed(1), y.toFixed(1)); // <span id="proj-out" class="output"></span></code></pre>
    </div>

    <script type="module">
        import { AstroTime, AstroMath, AstroVector, AstroMatrix, EquiDistanceProjection } from '../index.js';

        // ê³„ì‚° ì‹œì—°
        const jd = AstroTime.jd(2024, 6, 21, 12, 0, 0);
        document.getElementById('jd-out').innerText = jd;

        const astroTime = new AstroTime(9, 126.98, 37.57);
        const lst = astroTime.LCT2LST(jd);
        document.getElementById('lst-out').innerText = lst.toFixed(4) + 'Â°';

        const solarNoon = astroTime.lasn(2024, 6, 21);
        document.getElementById('noon-out').innerText = solarNoon.toFixed(2) + 'ì‹œ';

        const star = new AstroVector();
        star.setSphe(2.5 * AstroMath.H2R, 89.26 * AstroMath.D2R);
        const matrix = new AstroMatrix();
        matrix.equ2hor(lst * AstroMath.D2R, 37.57 * AstroMath.D2R);
        const horVector = new AstroVector();
        horVector.multiply(matrix, star);
        document.getElementById('az-out').innerText = (horVector.lon() * AstroMath.R2D).toFixed(2) + 'Â°';
        document.getElementById('alt-out').innerText = (horVector.lat() * AstroMath.R2D).toFixed(2) + 'Â°';

        const proj = new EquiDistanceProjection(300, 37.57 * AstroMath.D2R);
        const { x, y } = proj.project(2.5 * AstroMath.H2R, 89.26 * AstroMath.D2R);
        document.getElementById('proj-out').innerText = `x: ${x.toFixed(1)}, y: ${y.toFixed(1)}`;
    </script>
</body>

</html>